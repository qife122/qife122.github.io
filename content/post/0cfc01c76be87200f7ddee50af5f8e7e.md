---
date: 2025-08-04T01:41:41+08:00
title: 如何修复网站缺失的Referrer-Policy安全头
tags: [网络安全,HTTP头,Apache配置,Referrer-Policy]
authors: qife
description: 本文详细介绍了Referrer-Policy安全头的作用及配置方法，指导用户如何在Apache服务器中设置该头部以防止URL信息泄露，包含安全检查工具推荐及不同策略场景分析。
---

# 如何修复网站缺失的Referrer-Policy安全头

## Referrer-Policy是什么？
Referrer-Policy是一种安全头部，应包含在网站服务器与客户端的通信中。该策略指示浏览器当用户点击跳转链接时，如何处理发送给目标站点的来源信息。可配置为不传递任何URL信息、部分信息或完整路径。最佳实践推荐强制设置该策略，可通过PHP等网站代码或Apache配置实现。

## 检查Referrer-Policy是否启用
未主动配置的网站通常缺失该头部，可通过[SecurityHeaders.io](https://www.securityheaders.io)扫描检测，或使用FireFox开发者控制台验证。

## 确定Referrer策略需求
用户离开网站时，目标服务器可能需要来源信息（用于广告分析等），但也需防止HTTPS URL泄露到非安全HTTP环境。推荐采用"no-referrer-when-downgrade"策略，确保从HTTPS跳转HTTP时不暴露原始URL路径。

## Apache配置步骤
1. 在`httpd.conf`中找到VirtualHost配置段
2. 定位或创建`<IfModule headers_module>`区块
3. 添加头部指令：
```apache
<IfModule headers_module>
    Header set Referrer-Policy "no-referrer-when-downgrade"
</IfModule>
```
4. 重启Apache服务：`sudo service apache restart`

## 扩展资源
- [Scott Helme的Referrer Policy详解](https://scotthelme.co.uk/a-new-security-header-referrer-policy/)
- 安全头部检测工具：[SecurityHeaders.io](https://www.securityheaders.io)
- 关联阅读：[内容安全策略(CSP)配置指南](#)