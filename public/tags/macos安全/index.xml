<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>MacOS安全 on 办公AI智能小助手</title>
        <link>http://localhost:1313/tags/macos%E5%AE%89%E5%85%A8/</link>
        <description>Recent content in MacOS安全 on 办公AI智能小助手</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>qife</copyright>
        <lastBuildDate>Sun, 03 Aug 2025 17:39:48 +0800</lastBuildDate><atom:link href="http://localhost:1313/tags/macos%E5%AE%89%E5%85%A8/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Trail of Bits 2021开源贡献盘点：编译器加固、macOS安全监控与Python工具链升级</title>
        <link>http://localhost:1313/p/trail-of-bits-2021%E5%BC%80%E6%BA%90%E8%B4%A1%E7%8C%AE%E7%9B%98%E7%82%B9%E7%BC%96%E8%AF%91%E5%99%A8%E5%8A%A0%E5%9B%BAmacos%E5%AE%89%E5%85%A8%E7%9B%91%E6%8E%A7%E4%B8%8Epython%E5%B7%A5%E5%85%B7%E9%93%BE%E5%8D%87%E7%BA%A7/</link>
        <pubDate>Sun, 03 Aug 2025 17:39:48 +0800</pubDate>
        
        <guid>http://localhost:1313/p/trail-of-bits-2021%E5%BC%80%E6%BA%90%E8%B4%A1%E7%8C%AE%E7%9B%98%E7%82%B9%E7%BC%96%E8%AF%91%E5%99%A8%E5%8A%A0%E5%9B%BAmacos%E5%AE%89%E5%85%A8%E7%9B%91%E6%8E%A7%E4%B8%8Epython%E5%B7%A5%E5%85%B7%E9%93%BE%E5%8D%87%E7%BA%A7/</guid>
        <description>&lt;h3 id=&#34;开源使命宣言&#34;&gt;开源使命宣言
&lt;/h3&gt;&lt;p&gt;在Trail of Bits，我们以开源核心工具为荣（如algo、manticore和graphtage）。本文重点不在于我们的工具，而是我们在外部项目中的贡献——2021年，团队提交的190多个PR被非自有仓库合并，体现了我们对整个软件生态安全的承诺。&lt;/p&gt;
&lt;h3 id=&#34;关键技术贡献&#34;&gt;关键技术贡献
&lt;/h3&gt;&lt;h4 id=&#34;llvm编译器基础设施&#34;&gt;LLVM编译器基础设施
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;作为clang/rustc/swiftc的后端，我们修复了包括：
&lt;ul&gt;
&lt;li&gt;修正clang AST dump模式的JSON输出有效性&lt;/li&gt;
&lt;li&gt;强化bitcode格式校验&lt;/li&gt;
&lt;li&gt;文档错误修正&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;nixpkgs软件集合&#34;&gt;Nixpkgs软件集合
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;对80,000+软件包的改进：
&lt;ul&gt;
&lt;li&gt;Go/Protobuf/SBV等核心包修复&lt;/li&gt;
&lt;li&gt;libff在ARM架构的构建修复&lt;/li&gt;
&lt;li&gt;Haskell工具链hevm的兼容性修正&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;osquery系统监控框架&#34;&gt;Osquery系统监控框架
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;macOS深度集成：
&lt;ul&gt;
&lt;li&gt;基于Endpoint Security API实现进程事件监控&lt;/li&gt;
&lt;li&gt;全面重构代码签名与CI系统&lt;/li&gt;
&lt;li&gt;原生支持Apple Silicon（ARM架构）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;安全增强：
&lt;ul&gt;
&lt;li&gt;禁用TLS 1.0/1.1&lt;/li&gt;
&lt;li&gt;OpenSSL升级至1.1.1k&lt;/li&gt;
&lt;li&gt;修复Windows SID API内存泄漏&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;python工具链生态&#34;&gt;Python工具链生态
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;关键包增强：
&lt;ul&gt;
&lt;li&gt;pyelftools新增DWARFv5支持&lt;/li&gt;
&lt;li&gt;pip-api增加全局包过滤功能&lt;/li&gt;
&lt;li&gt;Warehouse漏洞响应文档完善&lt;/li&gt;
&lt;li&gt;mypy类型系统改进&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;调试工具pwndbg&#34;&gt;调试工具Pwndbg
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;GDB插件优化：
&lt;ul&gt;
&lt;li&gt;匿名内存页映射显示&lt;/li&gt;
&lt;li&gt;命令解析器重构&lt;/li&gt;
&lt;li&gt;缓存调试机制改进&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;完整贡献清单精选&#34;&gt;完整贡献清单（精选）
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;1.&lt;/span&gt; LLVM
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;-&lt;/span&gt; [BitcodeReader] 修复向量类型校验逻辑错误 (D109655)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;-&lt;/span&gt; [clang] 修正带过滤器的JSON AST输出 (D108441)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;2.&lt;/span&gt; Osquery
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;-&lt;/span&gt; 进程事件监控 (&lt;span class=&#34;ni&#34;&gt;#7046&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;-&lt;/span&gt; Apple Silicon支持 (&lt;span class=&#34;ni&#34;&gt;#7330&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;-&lt;/span&gt; OpenSSL 1.1.1l升级 (&lt;span class=&#34;ni&#34;&gt;#7293&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;3.&lt;/span&gt; Python生态
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;-&lt;/span&gt; pyelftools DWARFv5支持 (&lt;span class=&#34;ni&#34;&gt;#363&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;-&lt;/span&gt; pip-api URL需求解析 (&lt;span class=&#34;ni&#34;&gt;#109&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;4.&lt;/span&gt; 其他
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;-&lt;/span&gt; rust-clippy新增格式字符串检测 (&lt;span class=&#34;ni&#34;&gt;#7743&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;-&lt;/span&gt; Solana虚拟机溢出修复 (&lt;span class=&#34;ni&#34;&gt;#212&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;开源协作哲学&#34;&gt;开源协作哲学
&lt;/h3&gt;&lt;p&gt;我们深知PR提交只是开源协作的起点：代码审查、长期维护和测试覆盖同样重要。这些贡献既源于技术热爱，也因这些项目切实推动了行业进步。在此向开源社区致以诚挚谢意，祝2022年高效安全！&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Sinter：macOS全新用户态安全执行框架解析</title>
        <link>http://localhost:1313/p/sintermacos%E5%85%A8%E6%96%B0%E7%94%A8%E6%88%B7%E6%80%81%E5%AE%89%E5%85%A8%E6%89%A7%E8%A1%8C%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/p/sintermacos%E5%85%A8%E6%96%B0%E7%94%A8%E6%88%B7%E6%80%81%E5%AE%89%E5%85%A8%E6%89%A7%E8%A1%8C%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/</guid>
        <description>&lt;h1 id=&#34;sintermacos全新用户态安全执行框架&#34;&gt;Sinter：macOS全新用户态安全执行框架
&lt;/h1&gt;&lt;h2 id=&#34;简单开源且基于swift&#34;&gt;简单、开源且基于Swift
&lt;/h2&gt;&lt;p&gt;Sinter是我们用Swift编写的开源macOS端点安全执行代理（支持10.15及以上系统）。它完全基于用户态构建，利用新的EndpointSecurity API接收macOS内核发出的安全事件回调。通过简单规则即可控制事件允许/拒绝，无需传统杀毒软件的全盘扫描或特征检测。&lt;/p&gt;
&lt;h2 id=&#34;纯用户态安全代理的探索&#34;&gt;纯用户态安全代理的探索
&lt;/h2&gt;&lt;p&gt;实现端点安全解决方案需要实时拦截和授权OS级事件。过去这意味着使用内核态回调API或直接挂钩内核代码。苹果在2019年末宣布将弃用所有第三方内核扩展，引入EndpointSecurity API作为替代方案。&lt;/p&gt;
&lt;h2 id=&#34;endpointsecurity-api解析&#34;&gt;EndpointSecurity API解析
&lt;/h2&gt;&lt;p&gt;该API实现了macOS内核的实时回调机制，支持NOTIFY（通知）和AUTH（授权）两种事件类型。它取代了原有的Kauth KPI等内核态方案，成为macOS 11 Big Sur后唯一合法的实时监控接口。&lt;/p&gt;
&lt;h2 id=&#34;sinter开发中的关键技术挑战&#34;&gt;Sinter开发中的关键技术挑战
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;实时决策不影响系统性能&lt;/strong&gt;&lt;br&gt;
采用异步处理架构，通过&lt;code&gt;es_copy_message&lt;/code&gt;解耦消息处理，建立双优先级队列（常规程序和大程序分离），确保系统响应能力。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;防范TOCTOU竞态条件&lt;/strong&gt;&lt;br&gt;
针对&amp;quot;检查时-使用时&amp;quot;时间差攻击，实现文件事件监控机制。当检测到执行文件被篡改时立即清除缓存（已向苹果提交改进建议FB8352031）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;应用包代码签名验证&lt;/strong&gt;&lt;br&gt;
macOS可执行文件存在于应用包（.app）中，需验证整个包的签名。Sinter创新性地实现双缓存机制：EndpointSecurity原生缓存+自定义应用包验证缓存。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;系统扩展安装优势&lt;/strong&gt;&lt;br&gt;
作为System Extension部署可获得系统级保护（包括SIP扩展防护），防止root用户卸载。未来版本将迁移到此模式。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;证书签名与公证流程&lt;/strong&gt;&lt;br&gt;
建立自动化CMake工作流处理苹果严格的代码签名、公证和权限申请（EndpointSecurity权限需6周人工审核）。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;未来展望&#34;&gt;未来展望
&lt;/h2&gt;&lt;p&gt;Sinter将持续增强规则引擎灵活性，整合文件完整性监控、内存注入防护（通过mmap事件分析）及NetworkExtension网络流量控制。我们欢迎社区通过GitHub或Empire Hacking Slack频道参与贡献。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;随着内核扩展的弃用，苹果为端点防护建立了统一用户态API标准，这将提升系统稳定性并减少攻击面，而Swift语言的选择确保了长期兼容性优势。&lt;/p&gt;&lt;/blockquote&gt;
</description>
        </item>
        
    </channel>
</rss>
